<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>CSC_Assignment_2</title>
    <link rel="stylesheet" href="lib/bootstrap/dist/css/bootstrap.min.css" />
    <link rel="stylesheet" href="css/site.css" />

</head>

<body>
    <header>
        <nav class="navbar navbar-expand-sm navbar-toggleable-sm navbar-light bg-white border-bottom box-shadow mb-3">
            <div class="container">
                <a class="navbar-brand" href="Index.html">CSC_Assignment_2</a>
                <button class="navbar-toggler" type="button" data-toggle="collapse" data-target=".navbar-collapse"
                    aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                </button>
                <div class="navbar-collapse collapse d-sm-inline-flex flex-sm-row-reverse">
                    <ul class="navbar-nav flex-grow-1">
                        <li class="nav-item">
                            <a class="nav-link text-dark" href="Index.html">Home</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link text-dark" href="Privacy.html">Privacy</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link text-dark" href="Upload.html">Create Talent</a>
                        </li>
                    </ul>
                </div>
            </div>
        </nav>
    </header>
    <div class="container">
        <main role="main" class="pb-3">
            <p class="h1">Register</p>

            <form id="dataForm">
                <input name="__RequestVerificationToken" type="hidden"
                    value="CfDJ8OwprpM9AetJqMO0J8po8bWKRzSaHyRyBHb_Vn4eQScS6Iw8k3wc0UdtsIHmDKP2V4tE8WrA1Wog_GR4RIF3U6YTjoa3Il0lvdLSjNic48Y2ENl6b87zcu_7oueky-ev0k5Kjg0UMbSWW6zj9GAJW4Y" />
                <div class="form-group row">
                    <label class="col-md-2 col-form-label" for="emailInput">Email</label>
                    <div class="col-md-4">
                        <input type="text" id="emailInput" name="emailInput" class="form-control " placeholder="Email"
                            value="KENNETH@EMU.COM" />
                    </div>
                </div>
                <div class="form-group row">
                    <label class="col-md-2 col-form-label" for="password1Input">Password</label>
                    <div class="col-md-4">
                        <input type="text" id="password1Input" name="password1Input" class="form-control "
                            placeholder="Email" value="p@ssw0rd" />
                    </div>
                </div>
                <div class="form-group row">
                    <label class="col-md-2 col-form-label" for="password2Input">Confirm Password</label>
                    <div class="col-md-4">
                        <input type="text" id="password2Input" name="password2Input" class="form-control "
                            placeholder="Email" value="p@ssw0rd" />
                    </div>
                </div>
                <div class="form-group row">
                    <div class="col-10 offset-2">
                        <a class="btn btn-secondary" href="Index.html">Cancel</a>
                        <input type="button" class="btn btn-primary" value="Register" id="registerButton" />
                    </div>
                </div>
            </form>


        </main>
    </div>

    <footer class="border-top footer text-muted">
        <div class="container">
            &copy; 2021 - CSC_Assignment_2 - <a href="Privacy.html">Privacy</a>
        </div>
    </footer>
    <script src="lib/jquery/dist/jquery.min.js"></script>
    <script src="lib/bootstrap/dist/js/bootstrap.bundle.min.js"></script>
    <script src="js/site.js?v=4q1jwFhaPaZgr8WAUSrux6hAuh0XDg9kPS3xIVq36I0"></script>

    <script>

        $('#registerButton').on('click', function () {

            // let collectedFullName = jQuery('#fullNameInput').val();
            let collectedEmail = $('#emailInput').val();
            let collectedPassword = $('#password1Input').val();


            /* Create a new JavaScript class */
            function WebFormData(inEmail, inPassword) {
                // this.fullName = inFullName;
                this.email = inEmail;
                this.password = inPassword;
            }//End of WebFormData class definition

            //Create a object, webFormData by using WebFormData class
            let webFormData = new WebFormData(collectedEmail, collectedPassword);


            $.ajax({
                url: '/dev/api/register',
                method: 'POST',
                data: webFormData,
                datatype: 'application/json',
                contentType: 'application/x-www-form-urlencoded',
                // beforeSend: function (request) {
                //     request.setRequestHeader('RequestVerificationToken', $('[name="__RequestVerificationToken"]').val());
                // },/* Either you clear the token cookie or purposely don't prepare the header, the server side will block. The web api will not execute at all*/
            }).done(function (response) {
                console.dir(response);
                //sessionToken = response.se
                

            }).fail(function (data) {
                // if (data.responseJSON) {
                //     new Noty({ text: data.responseJSON.message, type: 'error', layout: 'center' }).show();
                // } else {
                //     new Noty({ text: 'Sorry. Unable to complete your registration.', type: 'error', layout: 'center' }).show();
                // }
            })
        }//end of anonymous function
        );


    </script>

</body>

</html>